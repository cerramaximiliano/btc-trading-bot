import{aD as ee,aB as m,s as x,bG as te,ay as p,cn as L,aA as O,N as ae,M as se,T as l,r as f,az as le,bV as re,aC as ne,G as oe,ae as g,co as ie,cp as ce,cq as de,cr as me,cs as ue,j as e,F as v,d as r,aZ as pe,a9 as G,ct as fe,u as P,a as H,aq as S,au as W,av as h,ak as N,aN as he,a5 as _,bH as ge,a7 as xe,aL as D,bp as ye,a8 as be,aI as ve,aJ as Ne,al as Ie}from"./index-RIZY5N65.js";import{F as Ce}from"./FusePageCarded-_u8itCUS.js";const we=ee(m.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),Se=["slots","slotProps"],je=x(te)(({theme:a})=>p({display:"flex",marginLeft:`calc(${a.spacing(1)} * 0.5)`,marginRight:`calc(${a.spacing(1)} * 0.5)`},a.palette.mode==="light"?{backgroundColor:a.palette.grey[100],color:a.palette.grey[700]}:{backgroundColor:a.palette.grey[700],color:a.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":p({},a.palette.mode==="light"?{backgroundColor:a.palette.grey[200]}:{backgroundColor:a.palette.grey[600]}),"&:active":p({boxShadow:a.shadows[0]},a.palette.mode==="light"?{backgroundColor:L(a.palette.grey[200],.12)}:{backgroundColor:L(a.palette.grey[600],.12)})})),ke=x(we)({width:24,height:16});function Me(a){const{slots:t={},slotProps:n={}}=a,s=O(a,Se),i=a;return m.jsx("li",{children:m.jsx(je,p({focusRipple:!0},s,{ownerState:i,children:m.jsx(ke,p({as:t.CollapsedIcon,ownerState:i},n.collapsedIcon))}))})}function Be(a){return se("MuiBreadcrumbs",a)}const Fe=ae("MuiBreadcrumbs",["root","ol","li","separator"]),_e=Fe,Pe=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],Te=a=>{const{classes:t}=a;return oe({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Be,t)},ze=x(l,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(a,t)=>[{[`& .${_e.li}`]:t.li},t.root]})({}),Re=x("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(a,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Ae=x("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(a,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function $e(a,t,n,s){return a.reduce((i,c,o)=>(o<a.length-1?i=i.concat(c,m.jsx(Ae,{"aria-hidden":!0,className:t,ownerState:s,children:n},`separator-${o}`)):i.push(c),i),[])}const Ee=f.forwardRef(function(t,n){const s=le({props:t,name:"MuiBreadcrumbs"}),{children:i,className:c,component:o="nav",slots:u={},slotProps:I={},expandText:C="Show path",itemsAfterCollapse:y=1,itemsBeforeCollapse:k=1,maxItems:M=8,separator:R="/"}=s,X=O(s,Pe),[A,Z]=f.useState(!1),b=p({},s,{component:o,expanded:A,expandText:C,itemsAfterCollapse:y,itemsBeforeCollapse:k,maxItems:M,separator:R}),w=Te(b),K=re({elementType:u.CollapsedIcon,externalSlotProps:I.collapsedIcon,ownerState:b}),$=f.useRef(null),Y=d=>{const F=()=>{Z(!0);const E=$.current.querySelector("a[href],button,[tabindex]");E&&E.focus()};return k+y>=d.length?d:[...d.slice(0,k),m.jsx(Me,{"aria-label":C,slots:{CollapsedIcon:u.CollapsedIcon},slotProps:{collapsedIcon:K},onClick:F},"ellipsis"),...d.slice(d.length-y,d.length)]},B=f.Children.toArray(i).filter(d=>f.isValidElement(d)).map((d,F)=>m.jsx("li",{className:w.li,children:d},`child-${F}`));return m.jsx(ze,p({ref:n,component:o,color:"text.secondary",className:ne(w.root,c),ownerState:b},X,{children:m.jsx(Re,{className:w.ol,ref:$,ownerState:b,children:$e(A||M&&B.length<=M?B:Y(B),w.separator,R,b)})}))}),Le=Ee,De=x(g)(({...a})=>({backgroundColor:{PDF:ie[600],DOC:ce[600],XLS:de[600],TXT:me[600],JPG:ue[600]}[a.color]}));function T(a){const{type:t}=a;return t==="folder"?e(v,{size:56,color:"disabled",children:"heroicons-outline:folder"}):r("div",{className:"relative",children:[e(v,{size:56,color:"disabled",children:"heroicons-outline:document"}),e(De,{color:t,className:"absolute left-0 bottom-0 px-6 rounded text-12 font-semibold leading-20 text-white",children:t})]})}const q={selectedItemId:null},j=pe({name:"fileManagerApp",initialState:q,reducers:{setSelectedItemId:(a,t)=>{a.selectedItemId=t.payload},resetSelectedItemId:a=>{a.selectedItemId=q.selectedItemId}},selectors:{selectSelectedItemId:a=>a.selectedItemId}});G.inject(j);const qe=j.injectInto(G),{setSelectedItemId:J,resetSelectedItemId:U}=j.actions,{selectSelectedItemId:Q}=qe.selectors;j.reducer;function Ue(a){const{items:t}=a,n=fe(),{pathname:s}=n,i=P(),c=H(Q),o=S.find(t,{id:c});return f.useEffect(()=>{i(U())},[s]),o?r(N.div,{initial:{y:50,opacity:.8},animate:{y:0,opacity:1,transition:{delay:.3}},className:"file-details p-24 sm:p-32",children:[e("div",{className:"flex items-center justify-end w-full",children:e(W,{size:"large",onClick:()=>i(U()),children:e(v,{children:"heroicons-outline:x"})})}),e(g,{className:" w-full rounded-8 border preview h-128 sm:h-256 file-icon flex items-center justify-center my-32",sx:{backgroundColor:u=>u.palette.mode==="light"?h(u.palette.background.default,.4):h(u.palette.background.default,.02)},children:e(N.div,{initial:{scale:0},animate:{scale:1,transition:{delay:.3}},children:e(T,{type:o.type})})}),e(l,{className:"text-18 font-medium",children:o.name}),e("div",{className:"text-16 font-medium mt-32",children:"Information"}),r("div",{className:"flex flex-col mt-16 border-t border-b divide-y font-medium",children:[r("div",{className:"flex items-center justify-between py-12",children:[e(l,{color:"text.secondary",children:"Created By"}),e(l,{children:o.createdBy})]}),r("div",{className:"flex items-center justify-between py-12",children:[e(l,{color:"text.secondary",children:"Created At"}),e(l,{children:o.createdAt})]}),r("div",{className:"flex items-center justify-between py-12",children:[e(l,{color:"text.secondary",children:"Modified At"}),e(l,{children:o.modifiedAt})]}),r("div",{className:"flex items-center justify-between py-12",children:[e(l,{color:"text.secondary",children:"Size"}),e(l,{children:o.size})]}),o.contents&&r("div",{className:"flex items-center justify-between py-12",children:[e(l,{color:"text.secondary",children:"Contents"}),e(l,{children:o.contents})]})]}),o.description&&r(he,{children:[e("div",{className:"text-16 font-medium mt-32 pb-16 border-b",children:"Description"}),e(l,{className:"py-12",children:o.description})]}),r("div",{className:"grid grid-cols-2 gap-16 w-full mt-32",children:[e(_,{className:"flex-auto",color:"secondary",variant:"contained",children:"Download"}),e(_,{className:"flex-auto",children:"Delete"})]})]}):null}var z={},Oe=xe;Object.defineProperty(z,"__esModule",{value:!0});var V=z.default=void 0,Ge=Oe(ge()),He=m;V=z.default=(0,Ge.default)((0,He.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");function We(a){const{path:t,folders:n,files:s}=a;return r("div",{className:"p-24 sm:p-32 w-full flex  space-y-8 sm:space-y-0 items-center justify-between",children:[r("div",{className:"flex flex-col space-y-8 sm:space-y-0",children:[r(N.span,{className:"flex items-end",initial:{x:-20},animate:{x:0,transition:{delay:.2}},children:[e(l,{component:D,to:"/apps/file-manager",className:"text-20 md:text-32 font-extrabold tracking-tight leading-none",role:"button",children:"File Manager"}),t&&(t==null?void 0:t.length)>0&&r(Le,{"aria-label":"breadcrumb",className:"mx-12",separator:e(V,{fontSize:"small"}),children:[e("div",{}),t.map((i,c)=>c+1===t.length?e(l,{children:i.name},c):e(D,{color:"text.primary",to:`/apps/file-manager/${i.id}`,children:i.name},c))]})]}),e(N.span,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:e(l,{className:"text-14 font-medium mx-2",color:"text.secondary",children:`${n.length} folders, ${s.length} files`})})]}),e("div",{className:"flex items-center -mx-8",children:r(_,{className:"mx-8 whitespace-nowrap",variant:"contained",color:"secondary",children:[e(v,{size:20,children:"heroicons-outline:plus"}),e("span",{className:"hidden sm:flex mx-8",children:"Upload file"})]})})]})}function Je(a){const{item:t}=a,n=P();return t?r(g,{sx:{backgroundColor:"background.paper"},className:"relative w-full sm:w-160 h-160 m-8 p-16 shadow rounded-16",children:[e(W,{className:"absolute z-20 top-0 right-0 m-6 w-32 h-32 min-h-32",onClick:()=>n(J(t.id)),children:e(v,{size:20,children:"heroicons-solid:information-circle"})}),r(ye,{className:"flex flex-col h-full w-full",to:`/apps/file-manager/${t.id}`,role:"button",children:[e("div",{className:"flex flex-auto w-full items-center justify-center",children:e(T,{type:t.type})}),r("div",{className:"flex shrink flex-col justify-center text-center",children:[e(l,{className:"truncate text-12 font-medium",children:t.name}),t.contents&&e(l,{className:"truncate text-12 font-medium",color:"text.secondary",children:t.contents})]})]})]}):null}function Qe(a){const{item:t}=a,n=P();return t?r(g,{sx:{backgroundColor:"background.paper"},className:"flex flex-col relative w-full sm:w-160 h-160 m-8 p-16 shadow rounded-16 cursor-pointer",onClick:()=>n(J(t.id)),children:[e("div",{className:"flex flex-auto w-full items-center justify-center",children:e(T,{type:t.type})}),r("div",{className:"flex shrink flex-col justify-center text-center",children:[e(l,{className:"truncate text-12 font-medium",children:t.name}),t.contents&&e(l,{className:"truncate text-12 font-medium",color:"text.secondary",children:t.contents})]})]}):null}function Ve(a){const{files:t,folders:n}=a;return t.length===0&&n.length===0?e(N.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:e(l,{color:"text.secondary",variant:"h5",children:"There are no items!"})}):r("div",{className:"p-32",children:[(n==null?void 0:n.length)>0&&r(g,{className:"p-16 w-full rounded-16 mb-24 border",sx:{backgroundColor:s=>s.palette.mode==="light"?h(s.palette.background.default,.4):h(s.palette.background.default,.02)},children:[e(l,{className:"font-medium",children:"Folders"}),e("div",{className:"flex flex-wrap -m-8 mt-8",children:n.map(s=>e(Je,{item:s},s.id))})]}),t.length>0&&r(g,{className:"p-16 w-full rounded-16 mb-24 border",sx:{backgroundColor:s=>s.palette.mode==="light"?h(s.palette.background.default,.4):h(s.palette.background.default,.02)},children:[e(l,{className:"font-medium",children:"Files"}),e("div",{className:"flex flex-wrap -m-8 mt-8",children:t.map(s=>e(Qe,{item:s},s.id))})]})]})}const Xe=["file_manager_folder"],Ze=be.enhanceEndpoints({addTagTypes:Xe}).injectEndpoints({endpoints:a=>({getFileManagerFolder:a.query({query:t=>({url:`/mock-api/file-manager/${t}`}),providesTags:["file_manager_folder"]}),updateFileManagerFolder:a.mutation({query:t=>({url:`/mock-api/file-manager/${t.folderId}`,method:"PUT",body:t.fileManagerItem}),invalidatesTags:["file_manager_folder"]}),deleteFileManagerFolder:a.mutation({query:t=>({url:`/mock-api/file-manager/${t}`,method:"DELETE"}),invalidatesTags:["file_manager_folder"]})}),overrideExisting:!1}),{useGetFileManagerFolderQuery:Ke,useUpdateFileManagerFolderMutation:tt,useDeleteFileManagerFolderMutation:at}=Ze;function st(){const a=ve(y=>y.breakpoints.down("lg")),t=Ne(),{folderId:n}=t,{data:s,isLoading:i}=Ke(n),c=H(Q),o=S.find(s==null?void 0:s.items,{id:c}),u=S.filter(s==null?void 0:s.items,{type:"folder"}),I=S.reject(s==null?void 0:s.items,{type:"folder"}),C=s==null?void 0:s.path;return i?e(Ie,{}):e(Ce,{header:e(We,{path:C,folders:u,files:I}),content:e(Ve,{folders:u,files:I}),rightSidebarOpen:!!o,rightSidebarContent:e("div",{className:"w-full",children:e(Ue,{items:s==null?void 0:s.items})}),rightSidebarWidth:400,scroll:a?"normal":"content"})}export{st as default};
